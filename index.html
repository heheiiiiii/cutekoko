<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>닮은 웹툰 캐릭터 찾기</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 480px;
      margin: 0 auto;
      padding: 24px 16px 40px;
      background: #0f172a;
      color: #f9fafb;
      text-align: center;
    }
    h1 {
      font-size: 1.6rem;
      margin-bottom: 8px;
    }
    p.desc {
      font-size: 0.9rem;
      color: #9ca3af;
      margin-top: 0;
      margin-bottom: 20px;
    }
    .card {
      background: #020617;
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.45);
      border: 1px solid #1f2937;
    }
    .section-title {
      font-size: 1rem;
      margin-bottom: 8px;
      font-weight: 600;
    }
    img {
      max-width: 100%;
      border-radius: 12px;
    }
    #myPhoto {
      background: radial-gradient(circle at top, #1f2937, #020617);
      min-height: 200px;
      object-fit: cover;
      border: 1px dashed #374151;
    }
    input[type="file"] {
      margin-top: 10px;
      width: 100%;
      font-size: 0.85rem;
    }
    button {
      margin-top: 14px;
      padding: 10px 16px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #4f46e5, #6366f1);
      color: #f9fafb;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      box-shadow: 0 8px 18px rgba(79,70,229,0.5);
    }
    button:disabled {
      background: #4b5563;
      box-shadow: none;
      cursor: not-allowed;
    }
    button:hover:not(:disabled) {
      opacity: 0.95;
      transform: translateY(-1px);
      transition: all 0.1s ease-out;
    }
    #resultText {
      min-height: 2.5em;
      font-size: 0.98rem;
      margin-top: 12px;
    }
    .tagline {
      font-size: 0.85rem;
      color: #9ca3af;
      margin-top: 6px;
      min-height: 2em;
    }
    .badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 999px;
      background: #020617;
      font-size: 0.7rem;
      color: #6b7280;
      margin-top: 8px;
      border: 1px solid #111827;
    }
    .footer {
      margin-top: 20px;
      font-size: 0.75rem;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <h1>닮은 웹툰 캐릭터 찾기</h1>
  <p class="desc">
    얼굴 사진을 올리면,<br>
    오늘 운세처럼 랜덤으로 닮은 웹툰 캐릭터를 뽑아드립니다.
  </p>

  <!-- 1. 사진 업로드 -->
  <div class="card">
    <div class="section-title">1. 얼굴 사진 찍기 / 업로드</div>
    <p style="font-size:0.8rem;color:#9ca3af;margin-top:0;">
      사진은 서버에 저장되지 않고, 이 브라우저 화면 안에서만 사용돼요.
    </p>
    <img id="myPhoto" alt="내 사진 미리보기">
    <input type="file" id="photoInput" accept="image/*" capture="user">
  </div>

  <!-- 2. 결과 카드 -->
  <div class="card">
    <div class="section-title">2. 닮은 캐릭터 뽑기</div>
    <button id="matchBtn" disabled>먼저 사진을 올려주세요</button>
    <p id="resultText"></p>
    <!-- 캐릭터 이미지 (이미지가 없으면 JS에서 자동으로 숨김) -->
    <img id="characterImg" alt="웹툰 캐릭터" style="display:none; margin-top:8px;">
    <div id="characterTagline" class="tagline"></div>
    <div class="badge">※ 실제 얼굴 인식이 아닌, 랜덤 매칭 기능입니다.</div>
  </div>

  <div class="footer">
    Made for fun · “닮은 캐릭터 운세” 컨셉 사이트
  </div>

  <script>
    // 1) 내 사진 미리보기
    const photoInput = document.getElementById('photoInput');
    const myPhoto = document.getElementById('myPhoto');
    const matchBtn = document.getElementById('matchBtn');

    photoInput.addEventListener('change', function() {
      const file = this.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        myPhoto.src = e.target.result; // 업로드한 이미지를 미리보기로
        matchBtn.disabled = false;
        matchBtn.textContent = '닮은 캐릭터 찾기 시작!';
      };
      reader.readAsDataURL(file);
    });

    // 2) 캐릭터 목록
    // img 값을 비워두면, 지금은 이미지 없이 텍스트만 보여주고
    // 나중에 캐릭터 이미지를 쓰고 싶을 때만 경로를 채우면 됩니다.
    const characters = [
      {
        name: '캐릭터 A',
        img: '', // 예: 'images/character1.png'
        line: '겉으로는 쿨한데, 속은 의외로 따뜻한 타입.'
      },
      {
        name: '캐릭터 B',
        img: '', // 예: 'images/character2.png'
        line: '혼자 있는 시간도 좋아하지만, 믿는 사람에게는 올인하는 스타일.'
      },
      {
        name: '캐릭터 C',
        img: '', // 예: 'images/character3.png'
        line: '사소한 것에도 잘 웃는, 분위기 메이커 감초 캐릭터.'
      }
    ];

    const resultText = document.getElementById('resultText');
    const characterImg = document.getElementById('characterImg');
    const characterTagline = document.getElementById('characterTagline');

    // 3) 버튼 클릭 시 랜덤 캐릭터 보여주기
    matchBtn.addEventListener('click', function() {
      if (!myPhoto.src) {
        alert('먼저 얼굴 사진을 업로드해주세요!');
        return;
      }

      const randomIndex = Math.floor(Math.random() * characters.length);
      const c = characters[randomIndex];

      resultText.textContent = `당신을 닮은 웹툰 캐릭터는 「${c.name}」 입니다!`;
      characterTagline.textContent = c.line || '';

      if (c.img && c.img.trim() !== '') {
        characterImg.src = c.img;
        characterImg.style.display = 'block';
      } else {
        characterImg.style.display = 'none';
      }
    });
  </script>
</body>
</html>
